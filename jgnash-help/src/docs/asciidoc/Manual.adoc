:imagesdir: ./images

= jGnash 3.0.x Manual
Published {localdate}
:doctype: book
:encoding: utf-8
:lang: en
:sectnums:
:toc: left
:icons: font
:media: prepress
:experimental:

[[_legal]]
== Legal
[big]*jGnash 3.0.x Manual*

Copyright (C) 2001-2019 Craig Cavanaugh

jGnash comes with *ABSOLUTELY NO WARRANTY*.

This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program. If not,
see http://www.gnu.org/licenses/

Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation
License, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections,
no Front-Cover Texts and no Back-Cover Texts.

A copy of the license is included in the section entitled ''GNU Free Documentation License''.

Linux(R) is the registered trademark of Linus Torvalds in the U.S. and other countries. Windows is a registered trademark
of Microsoft Corporation in the United States and other countries. Java(TM) and OpenJDK(TM) are registered trademarks of
Oracle and/or its affiliates.

[[_introduction]]
== Introduction

image::jgnash-logo-small.png[]

jGnash is an open source application for personal finances.
jGnash enables you to record detailed account and transaction information using proven double entry accounting principles.

You do not have to be an accountant to understand or use jGnash, but jGnash provides options to make new and experienced users feel comfortable using it.

jGnash's mission is personal fiance and it is not tailored for use as a business accounting application.
jGnash is being used by small businesses and clubs, but if you require business specific features, you may be better served looking for a different solution.

=== Features

A brief list of features is below:

* Double Entry Accounting with reconciliation tools.
* Budgeting with multiple scenario options and export to spreadsheet capability.
* Investment Accounts and automatic import of Stocks, Bond, and Funds price history.
* Nestable accounts with automatic rollup of totals and intelligent handling of mixed currencies.
* OFX, QFX, mt940, and QIF import with the ability to pre-process using JavaScript.
* Reminders and automatic transaction entry and notifications.
* Intelligent handling of multiple currencies and exchange rates with automatic online exchange rate updates.
* Printable reports with PDF and spreadsheet export capability.
* XML and relational database file formats
* Operates on most all modern PC operating system __(Java(TM) 11 is required)__.


[[_installation]]
=== Installation
jGnash is not currently distributed with an automatic installation tool.
You will be required to perform a couple of manual operations that are easily performed for those with a basic
understanding of how to use a zip file.  Also, Java(TM) 11 or newer must be installed on your computer.

*_Use of an OpenJDK package is recommended over use of Oracle JDK due to licensing requirements_*

OpenJDK is a free and open-source implementation of the Java Platform that is downloadable from various sources.
Java installation is a simple matter of downloading the correct version for your operating system and using the
automated installer.

  - https://www.azul.com/downloads/zulu/[Azul OpenJDK 11] is a branded release that will be easiest to install for most users and is free to use.
  - https://adoptopenjdk.net/index.html?variant=openjdk11&jvmVariant=hotspot[AdoptOpenJDK] will require manual installation but allows more flexibility and is free to use.
  - https://jdk.java.net/11/[https://jdk.java.net/11 (OpenJDK)/] will require manual installation and is free to use.
  - https://www.oracle.com/technetwork/java/javase/downloads/index.html[Oracle Java SE 11] will require manual installation and licensing is required.

[NOTE]
If performing a manual installation of Java, The *JAVA_HOME* Environment
Variable must be set and the Java bin directory must be in the execution path.

[NOTE]
If you have multiple versions of Java installed on your computer, The *JAVA_HOME* Environment
Variable must be set to Java 11 or newer and the related Java bin directory must be the only version
in the execution path. Mixing JVM and JDK versions will confuse the bootloader.

After Java is installed, you are ready to install jGnash.
Simply open the zip file and extract the [path]_jGnash_ directory and it's complete contents to a directory of your
choice, and do not alter the files or locations. I usually create a directory named "bin" in my home directory and keep
the [path]_jGnash_ directory in it to better organize my computer.
When upgrading between versions of jGnash, do not unzip to the same location and overwrite the existing files.
Use a new location or delete the existing files first.

[[_starting]]
=== Starting jGnash

After the [path]_jGnash_ directory has been extracted from the zip file, you should see several files in the directory.
Of interest at this point are the Bash script and exe files.

If you are running on a Windows(TM) based computer, you can simply double click on the [path]_jGnash.exe_ file to
start jGnash. Alternatively, you can also double click on the [path]_bin/bootloader.bat_ file as an alternate means for
starting the application in a console so that logging messages are visible.

If you are running on a Un*x or BSD (macOS) based system you can start jGnash from a terminal as shown below using the included
Bash script. You can also create your own application launcher using the Bash script in your desktop environment of choice.

----
./jGnash
----
jGnash has several advanced features such as running as a portable application or using jGnash as a multi-user home
networked application. These advanced features are accessible via the command line.
Please see <<_commandline,Command Line Options>> for more details.

=== Running for the First Time
A license acceptance screen will be displayed the first time you start jGnash.
jGnash will not run unless the license is accepted.
The short of the license agreement is jGnash is a freely available program comprised of other freely available software,
and should anything bad happen during use, the authors involved are not libel for any damages. The license also details
how jGnash may be distributed and used.

[sidebar]
If the license agreement sounds daunting, take a look at the license agreements of commercially available personal
finance applications and you will see similar agreements.
Myself and just about every other person making software available for free or purchase tries their best to ensure the
software they create works well and as intended.
Sometimes bugs do creep in and it does not work quite as planned.
The advantage of free software is you generally have direct access to the authors, and you have a much larger voice in
helping the application grow and evolve over time.

=== Getting Help and Giving Back

The intent of this user guide is to get you off to a good start using jGnash.
Despite my best attempts, there are those who need a little bit of extra help or have a special need or circumstance and
require the help of others that have already been around the block a few times.

The best place to start is the jGnash user group hosted at
http://groups.google.com/group/jgnash-user[http://groups.google.com/group/jgnash-user].
The user group contains a well rounded group of individuals who can help answer just about any question. As a courtesy
to others, I encourage you to search the group prior to asking a question to see if it's already been answered.

If you have found a bug, or have suggestions for improvement, the group page has links to a bug and feature request
tracker that can be used to log and track your requests.  The group forum can be used to post a bug or request, but use
of the tracker ensures the request is not lost in the mix of discussions.

If you are well versed in use of jGnash and other personal finance applications, you are encouraged to give back a
little time and contribute your experience to the group and help others.

[[_gettingstarted]]
== Getting Started
The basic elements of jGnash are Accounts, Currencies, Securites, and Transactions.  Every account is assigned one
currency and every transaction is associated with at least one account.  Investment Accounts and Investment Transactions
will be associated with a Security.

jGnash supports various Account types that can be arranged into a flexible hierarchical structure.  The Accounts
may be arranged by financial institution, by type, or some other structure.  It's good practice to organize your
Income and Expense Accounts into a logic arrangement that allows you to drill down into a layer of more detail.

The balance of an Account will roll up into it's parent Account within the Accounts view as well as in some reports.

Below is a typical Expense Account arrangement that allows you to differentiate between different type of automotive
and food related expenses, but roll them up into more macro level expenses.

====
* Expense Accounts
** Automobile
*** Fuel
*** Insurance
*** Service
** Food
*** Dining Out
*** Groceries
====

Transactions are used to record daily expenditures as well as income from the sale of personal items, investments, or
paychecks.

If you are familiar with other personal finance applications, you may notice that jGnash uses income and expense
_accounts_ instead of income and expense __categories__.
Functionally, there is no difference, other than jGnash allows you see a detailed transaction register of the income
and expense accounts as easily as you would look at your bank accounts.

[[editing]]
=== Editing Environment
The jGnash editing environment is not much different then in other application with the exception that it provides a
few shortcuts to speed up entry of transactions.

jGnash knows and understands just about any known locale and country setting.
Depending on your settings, the decimal symbol will change accordingly as well as the displayed format of dates.

Error checking of _required_ form fields is performed realtime.  As information is entered you will notice buttons
such as kbd:[Enter] enable and disabled based on validaity of what has been entered.

[[dateFields]]
==== Date Fields

The date field is freely editable and jGnash will make the best attempt at interpreting an invalid entry, but the results
are indeterminate. Clicking on the button to the right of the field will display a calendar dialog where you can select
a date as well.

The field is flexible enough to allow use of multiple keys as the field separators regardless of the current locale.
This is done to make entry easier on compact keyboards. The usable field  separator characters are defined in the table
below.

image:date-entry.png[]

Also, dates can be modified using the keyboard shortcuts defined below.

.Date Entry Shortcut Keys
[cols="1,1", options="header"]
|=============================
| Keys / Mouse                          |Function
|kbd:[+], kbd:[↑], Mouse Scroll Up      |Increase the date by one day
|kbd:[-], kbd:[↓], Mouse Scroll Down    | Decrease the date by one day
|kbd:[PgUp], Mouse Thumb Wheel Up       |Increase the date by one month
|kbd:[PgDn], Mouse Thumb Wheel Down     |Decrease the date by one month
|kbd:[t], kbd:[T]                       |Change to today's date
|kbd:[,], kbd:[.], kbd:[/], kbd:[\]     |Valid field separator for all locales
|=============================

[[numberFields]]
==== Number Fields
Numerical entry in jGnash is as easy as typing the desired value into the field.
Decimal separators are handled according to the configured locale.

image:basic-decimal-entry.png[] image:advanced-decimal-entry.png[]

You may also enter arithmetic operators and calculate values within the entry field.

The arithmetic operators that may be used are () + − ∗ /.,

Traditional arithmetic operator precedence is followed for all calculations.


[[_newfile]]
=== Creating a New File

When you start jGnash for the first time, you will be presented with a very simple screen.
At the bottom of the screen, program notifications and memory consumption information are displayed.

[float]
==== Creating a new file is done in 5 steps using the wizard

. Create a new file using the menu:File[New] command and follow the prompts in the new file wizard.
When given the choice to select the <<_filetypes,storage type>>, leave it as the default value for now. A default file
name and location will be provided that you can change if desired. If the file already exists, you will be warned you
are about to overwrite it.
. After selecting the storage type and file name, you will be asked to choose the default currency. The default currency
can be changed at a latter time, and if for some reason your currency of choice is not available, you can create a
custom currency and set it as the default after the file is created.
. Next you can choose the currencies that are available for use. Currencies may be added and removed as needed at a
later time if needed.
+
If needed, custom currencies may be added using the menu:Currencies[Add/Remove] command.
As locales change, default currency availability will change as Java is updated.
The typical need for a custom currency is to support legacy accounting information as countries standardize on the Euro.
. After choosing the available currencies, default accounts can be selected if desired. If you are new to personal
finance software, the defaults will be a good starting point. The accounts structure can be easily changed as needed to
accommodate your own personal needs.
. The last step is the Summary page of the wizard. Verify everything is to your liking and click on the Finish button
to create your new file.


After the file is created, you are now ready to change, add, or remove accounts as need and begin entering transactions.

****
Encryption and password protection options do not exist in jGnash with the exception of a clear text password for
client/server operation.

Encryption becomes a sticky subject when it involves exporting and distributing software throughout the world.
jGnash is designed to support many nationalities, so control of distribution would be become very difficult if
encryption was integrated.

If you do have the desire to encrypt your jGnash data, the best choice is to use the encryption capabilities of your
operating system or install a freely available third party encryption tool.
****

[[_filetypes]]
==== File Types

jGnash supports different file types for storing data.
File types can be easily changed by using the menu:File[Save As] command and naming the new file with the appropriate file extension.

The current file will be saved in the new format and automatically opened.

Regardless of file type used, jGnash automatically saves the data if changed every 30 seconds to minimize the chance of accidental data loss.

.Client/Server
[NOTE]
====
If you are using jGnash in the Client/Server mode, all changes are committed immediately.
====

==== H2 and HyperSql Relational Database

An H2 or HyperSql relational database is required when using the client / server functionality of jGnash.
jGnash embeds the database server so that no additional configuration or installation of software is required to use a relational database.

The relational database may be used for a single user.
If startup and shutdown performance is important to you, then the binary file format described below is a better choice.

The advantage of the relational database outside the requirement for client / server capability is the ability to use several available tools to browse and query your jGnash data. Also, a relational database is more tolerant of system crashes or power outages vs. use of an XML or Binary file.

The disadvantages of the relational database is a bit slower operation, larger file sizes, and increased memory consumption.

If using the H2 Database and operating over a network using Client/Server mode, you have the option of enabling encryption for network communication.
This will not encrypt your database file.  See the Command line options for specifics.

.Database Administrator
[NOTE]
====
The default administrator for a jGnash relational databases is JGNASH and is not configurable at this time.
====

==== XML File

XML file format is human readable and easily read by other applications at the expense of a considerably larger file size.
Memory usage is less when using the XML file format, but certain operations may take longer.
The advantage of the XML file is easier parsing and manipulation of the file using another program external to jGnash.
If you have a large amount of data, jGnash will use less system memory when using the XML file format.

.Backups
[NOTE]
====
The XML format is also used for creating automatic backups of jGnash files if enabled.
====

==== Binary File

The binary file format is the most compact file format and will open and close the quickest.
This is the recommended file format if you do not need client / server functionality and you are using a laptop or a workstaion with a UPS.

[[_accounts]]
=== Accounts
Accounts are what you use to organize how you save and spend your money, and where it comes from.
Account structures can be changed to organize the display of information to suit your specific needs.

Typically, you will have a separate jGnash account for each savings, checking, investment account, etc.
that you have at a financial institution.
Accounts can be organized under "placeholder" accounts to add different levels of organization.

For example, if you would like to see a summary of your accounts by financial institution, you can create a placeholder
account that represents a single financial institution and group your savings and checking accounts from that particular
institution.

Maybe you want to see all savings accounts grouped together and checking accounts grouped together.
It's just a mater of creating placeholder accounts for checking and savings and placing the respective accounts under them.

The account structure can be easily changed at any time with the exception of removing accounts after they have
transaction in them.  Transactions must be manually deleted from an account before you can remove it.

[[_newaccount]]
==== Creating Accounts
A new account is created by clicking on the btn:[New] button in the account list view.

image:new-account.png[]

A new dialog box will be displayed that allows you to create a new account to suit your particular needs.

image:account-dialog.png[scaledwidth=55%]

[float]
===== Account Information

Name::
The name for the account.
The name will be used to identify the account when creating transactions.
Account names do not have to be unique, but may not be left blank.

Description::
A description for the account.
This field may be left blank if desired.

Account Number::
The Account Number field is generally used for storing the account number provided by your financial institution.
This field may be left blank if desired.

Account Code (General Ledger Code)::
The Account Code field will default to a value of 0 and must be a numerical value.
This value will also control the displayed order of accounts within the same branch.
If the account code is left as a value of zero, sort order will be deferred to an alphanumeric sort against the account names.
Best practice is to either use an assigned Account Code for all accounts within the same branch or leave the code as a value of 0 for all accounts.
Otherwise, sort order may appear to be random.

Bank ID::
This is the identification number of the financial institution and is generally used as an identifier when importing OFX files.
This field may be left blank if desired.

Currency::
The currency for the account.
Account currencies cannot be changed if the account contains transactions.

Securities::
This button will display a dialog that allows you to add and remove the available Securities for the account.
This applies only to Investment accounts.

Account Type::
Account Type determines what the account can be used for and the type of transactions that can be created.
An Account's type may be changed after it is created to another type only if it is similar in function.
For example, an Investment Account can be change to a Mutual Fund account and vice-versa, buy they may not be changed into Bank or Credit accounts.

Account Options::

+

Locked::
If selected, the account will be locked and further changes will be prevented.
This is useful to lock accounts that have been closed while retaining your historical data.

Placeholder::
If selected, child accounts may be placed under this account and the account will not accept transactions.
This is useful for organizing accounts into a hierarchical structure.

Hide Account::
If selected, the account is hidden from view if the hide account filter is enabled.

Exclude From Budgets::
If selected, the account is hidden from view of the budgeting tool.

Parent Account::
Clicking on this button will display a dialog that lets you select the account this account resides under.
If you want the account to be placed at the top most level, then choose the Root account as the parent.
Parent accounts may be changed as needed to suit your needs.

Notes::
Room for extra information about the account if desired.


At any later time, the btn:[Modify] button may be used to change an existing account.
If the account contains transactions, certain options may not be changed.

[NOTE]
====
jGnash does not have a place to specify an opening balance in keeping with correct practices for double entry accounting.

*However, it is still possible to set and opening balance:*

To add an opening balance, create a transaction with an appropriate deposit or withdrawal against an Equity Account of
your choice.  Most people will choose or create an "Opening Balance" account.

This follows well known accounting practices.

_If you are not concerned about correct accounting practices, you can create an Adjustment Transaction instead._
====

[[_accounttypes]]
=== Account Types
jGnash allows use of several account types to make organization easier.
The account type chosen can have a significant impact on how reports are generated and displayed, and the types of transactions you can create.

==== Asset
Asset accounts are intended to be used to track the value of durable items such as houses, cars, boats, collections, etc.
Value of items can be adjusted over time against Income accounts to show gain or loss of value.
If you were to sell an item and convert it cash, the sale of the item can be tracked against the Asset accounts containing the item.

==== Bank
Bank accounts are used for the savings accounts you would have at a bank.

==== Cash
Cash accounts represent the cash you carry with you.
Cash accounts are also good for representing deposits and withdrawals from Flexible Spending Accounts.

==== Checking
Checking accounts are used for the checking account you would have at a bank.

==== Credit
Credit accounts are used to record purchases and payments made to a credit card account.
Credit accounts are primary used for short-term liabilities and great for representing overdraft and line of credit accounts at banks.

==== Equity
Equity accounts are used to record opening account balances against.
Typically, you will have only one Equity account.
Equity accounts are representative of another accounts net worth at the time you begin tracking it's value.

==== Expense
Expense accounts are used to record expenses such as food, utilities, taxes, investment expenses, etc.

==== Income
Income accounts are used to record income such as salary, dividends, investment income, etc.

==== Investment
Investment accounts are used to buy and sell Securities.
Investment accounts can be used to track 401k, IRA's, etc.

* Investment Accounts have a cash balance if you buy or sell transactions against the account.
* Investment purchases and sales fees can be made against the cash balance of the investment account or other specified accounts.
* Multiple investment fee entries per transaction may be entered.
* Multiple gains/loss entries per transaction may be entered.
* Investment Accounts support multiple securities.
* Investment Accounts can be used to model an on-line brokerage account.

==== Liability
Liability accounts are used to track long term loans or liabilities.
Liability accounts have the added feature of allowing you to set-up a loan payment that takes some of the effort out of entering periodic loan payment transactions.

==== Money Market
Money Market accounts are typically a high interest yield account with withdrawal rules or limitations.
They are generally used for long term savings accounts with the intent of keeping your cash readily accessible.

==== Mutual Fund
Mutual fund accounts are a specialized version of an Investment account and generally used to track mutual fund type
investments.

==== Simple Investment
Simple investment accounts are for investments where you do not actively manage or are able to track purchases and
sales of securities.
The typical scenario would be a company pension plan that only provides cash balance information.
Sometimes, these types of investment accounts are called Annuities or Guaranteed Retirement Accounts

==== Root
The root account is the top level account that holds all other accounts.
You cannot remove or modify the root account.
Normally, it is not visible unless you are changing the account structure.

<<<
[[_transactions]]
=== Entering Transactions
jGnash follows well know double entry accounting practices while reducing the complexity of transaction entry.

If you are familiar with other personal finance applications, you may notice that jGnash uses income
and expense accounts instead of income and expense categories. Functionally, there is no difference,
other than jGnash allows you see a detailed transaction register of the income and expense accounts as
easily as you would look at your bank accounts.

When creating your file, if you selected the available default accounts, you will have income and expense
accounts to work with.  These accounts can be changed to suit your needs at any time.

The benefit of double entry accounting in jGnash is the ability to use reports and charts to see where your money is
going and coming from.  Single entry transactions hide those details and make tracking difficult and tedious.

****
For simplicty, the terms used here to discuss changes in account balances will be *Increase* and *Decrease*.

Business accounting practices use the Credit and Debit terms which can appear to be backwards depending on account type
and cause confusion for those who are not familiar.
****

==== Common Transaction Properties

The properties below are common to all basic transaction types.  _Investment transactions will require additional
information not covered in this section._

===== Payee
The Payee is almost always the name of a person or business.  The Payee field may be empty, but
it is good practice to always use a payee for a transaction entry.  jGnash will automatically learn
and autocomplete a transaction using the Payee field.  This helps aid speed of transaction entry and
helps to establish consistency making searching and filter much easier.

===== Number
A transaction may be assigned a number or abbreviated description.  If working with a Checking account, the
number is almost always the same as the check number you wrote.  Use of a check number also makes reconciliation against
a bank statement easier.

===== Date
Every transaction has a date.  The date is usually the date the transaction occurred.  Some people will choose to edit
the transaction to match the posting date.

Please review the <<dateFields>> shortcuts that may be used to save a significant amount of time when selecting and editing dates.

[NOTE]
jGnash also maintains an internal timestamp for the actual date and time the transaction was created or last modified
for auditing and tracking purposes.

===== Memo
The Memo is a brief description of the transaction so you can remember what it was.  jGnash will automatically
learn the Memos you commonly use.  This helps aid speed of transaction entry and helps to establish
consistency making searching and filter much easier.

Split transactions have an option to Concatenate
or automatically merge the Memos of the split entries.

===== Amount
This is the transaction amount.  If entering a multi-currency transaction, this field will be expanded to handle
the correct exchange of currencies.

The <<numberFields>> section details how to enter amounts using mathematical operations in the
same manner as a calculator.

===== Reconciliation State
The Cleared CheckBox at the bottom of the register form is a tri-state box that allows you to toggle through
all three of the reconciliation states described below.

.A jGnash transaction has three reconciliation states
Not Reconciled:: The transaction has not been reconciled against a bank or online statement
Cleared:: The intended use is for manual reconcilation of a specific transaction prior to a full reconcilation for the
 period.
Reconciled:: The transaction has been reconciled manually or through use of the Reconcilation tool

===== Transaction Attachments
jGnash allows the attachment of an image file to the transaction using the chain link button at the bottom of the
transaction form.  The attachment will be moved to a managed directory call `attachments` located in the same directory
as your jGnash file.  The eye button allows you to view the attachment and the broken chain loop button allows for removal
of the attachment.

==== Double Entry Transactions

A double entry transaction follows standard accounting practices.  A double entry transaction will always
increase the balance of one account and decrease the balance of another account.  The amount of the change will
always equal and opposite in value.

****
Double entry transactions using accounts with different currencies will not be equal and opposite numerically due to
exchange rates between currencies.  jGnash automatically handles the difficult part of the currency exchange within the
transaction.
****

A double entry transaction normally begins within the register of some type of Cash or Bank account.
In the example below, a Withdrawal is being made from a Cash account.  The balance of the account will be decreased
by `25.67` and the balance of the Expense Account `Automobile:Fuel` will be increased by `25.67`.

The account to withdraw funds from (Decrease) or deposit to (Increase) is selected in the Account ComboBox.

image::basicDoubleEntry.png[width="640"]

<<<
==== Split Entry Transaction

A Split Entry Transaction is a Double Entry Transaction, but the amount is split across multiple accounts.

A Split Entry Transaction is started by clicking the btn:[Splits] Button.  A dialog will be shown that allows an entry
for multiple accounts to be made.

image:splitTransactionEntry.png[width="640"]

Notice the btn:[Concatenate Memos] Checkbox.  If the Checkbox is selected, the Transaction memo will be a generated list
of the unique memos of the split entries.  This saves entry time for the Transaction and reduces the file size.

Editing of the Transaction amount will be disabled as it is the sum of the Entries.  The Memo field will be disabled
as well if the btn:[Concatenate Memos] in the Split Transaction dialog was selected.

If a memo is not entered for a Split Transaction and the btn:[Concatenate Memos] button is not selected, the
Transactions register will display the memo of the first Split Entry.

A Split Transaction may consist of multiple Deposits and Withdrawals as shown below.  This is a typical example
of a paycheck where insurance and taxes are deducted from the gross salary.

image:mixedSplitTransaction.png[width="540"]

==== Single Entry / Adjustment Transaction

A Single Entry Transaction is primarily used to fudge an Account balance when you simply don't have the information to
correctly balance the account.

In the example below, you can see a negative amount of `-1.23` was used to decrease the balance of the account.

image:adjustmentTransaction.png[width="630"]

The half black and half white circular button at the bottom of the form is a utility to help convert the
Single Entry transaction into a Double Entry Transaction after you find the needed information.

==== Transfer Transaction
The Transfer tab provides a slightly faster way to move money between accounts without requiring as much information.
If go back to edit the Transaction, the edits will be performed within the Deposit or Withdrawal forms.

=== Investment Accounts
Investment Accounts need to be populated correctly if the Portfolio report is to work correctly.

* Accounts with prior history should purchase securities from the "Opening Balance" Equity account.  Ensure the quantity of
securities is correct and use the current price.

* Cash balances should be transfers from the "Opening Balance" Equity account.

* Dividends, sells, etc. should occur after opening securities and cash balances are established.

[[_reminders]]
== Reminders
If you find yourself recreating the same transaction on a regular basis, Reminders can be created to automate the process.

image::reminders.png[width="640"]

The table shown above displays all the Reminders you have created with some basic information.

* The *Last Posted* column shows the last date the Reminder was processed. It will be empty for a new Reminder.

* The *Due* column shows the next due date if a configured end date has not been reached.

* The btn:[Modify] button is for editing the selected Reminder.

* The btn:[Execute Now] button will process the selected Reminder if it is due.

* The btn:[Check Reminders] button looks for any pending Reminders and displays them.  If there are not
any pending Reminders, the dialog will not be displayed.

<<<
=== Notification of Reminders

The pending Reminders dialog will be shown shortly after jGnash has been started or when manually checked
as described earlier.

image::remindersPopupDialog.png[width="640"]

* The btn:[Remind Me Later] button lets you to snooze the dialog for a selectable period of time if you do not want to
process the transactions at that time.

* The btn:[Acknowledge Selected] button processes _only_ the transactions marked in the *Approve* column.

Below the *Approve* column are buttons to make it easier to mark a large number of transactions for approval.

=== Creating New Reminders

Creating new Reminders is a process of filling in some basic information, creating your transaction, and configuring the
frequency of the Reminder.

An Account must be selected for the Reminder and fields exist to provide a description and additional notes.  A transaction
is optional.  A Reminder without a transaction will simply be a Reminder to do something.

The typical approach for assigning the Account is to use a bank or cash account of some sort.  When you create the
transaction, it wil be against an expense or income account unless it is a periodic transfer between accounts.

However, if you prefer to organize Reminders by expense type or account, you can pick an expense or income account and
create the transaction against a bank account.  Regardless of approach, be consistent to avoid confusion later.

image::remindersNewDialog.png[width="450"]

Configuring the Frequency of a Reminder is easy despite there being a lot of options.  The *Date of first payment*
field establishes the first date the Reminder process starts as well as the day of the month it occurs on.

The *Enabled* check box will be selected by default.  Unselecting it will pause the Reminder should you want
to disable it for a period of time instead of deleting it.

The *Month* frequency tab provides an option of *Month By Day* or *Month by Date*.  As an example, selecting
*Month By Day* indicates you may want a Reminder to occur every 2nd Tuesday of the month.  Selecting *Month by Date*
would indicate you want a Reminder to occur of the 15th of every month.

<<<
Creating a transaction for a Reminder is identical to creating a transaction in the register.  The Date field will be
ignored and replaced by the recurrence date of the transaction defined in the Frequency section.

image::remindersNewTransaction.png[width="450"]

The *Entry* section of the New Reminder form gives you option to automatically enter a new transaction a defined number
of days prior to the date defined by the Frequency section.  When enabled, you will not see the Notification dialog.
Typical use is for automatic withdrawals or deposits into an account.

=== Tips

==== Quick Generation of new Reminders
New reminders may be created from an existing transaction.

Within the Register, right click on a transaction to display the context menu.  From the context menu, the btn:[Create new reminder]
command will generate a new reminder using the existing transaction as a template and display the New Reminder Dialog.
You will need to ensure the Frequency parameters are correct and simply click the btn:[OK] to save it.

image::remindersQuickTransaction.png[width="450"]

==== Special Dates
Be careful when creating Reminders near the end of the month with a Month frequency.

* What happens if you select February 29th (Leap Day)?

* Do you receive a paycheck every two weeks (26 pay periods) or twice a month (24 pay periods)?

jGnash makes the best attempt to ensure correctness of dates, but minor date shifts can occur should you select leap days,
the 1st day of a 5 week month, etc.

[[_budgets]]
== Budgets
jGnash has a budgeting feature that makes it easy for you to define spending and income goals by account and bump those goals up against your actual transactions.
A compact graphical overview of each budgeting period is provided to highlight how well you are following your budget based on selectable periods.

Tracking how well you follow your budget can be an eye opening experience and can lead to better financial health.

[NOTE]
jGnash budget periods follow rules established by ISO 8601.  Weeks begin on Monday and the first week of the year may begin
with the last few days of the prior year.

[float]
=== Budget Features

* Multiple budgets are supported and may be copied making it easy to try out different scenarios and create year specific budgets if desired.
* Allowed accounts for budget are limited to Income and Expense accounts.
* Accounts may be excluded from budgets by setting the exclude flag in the account properties dialog. Sub-accounts will not be displayed if the parent account is excluded.
* The reporting period for budgets may be daily, weekly, bi-weekly, monthly, or quarterly and can be changed as needed.
* The per account budget goals may also be entered in daily, weekly, bi-weekly, monthly, or quarterly periods and are independent of the budget reporting period.
* The budget may be exported to a spreadsheet.

.Budget Periods
[TIP]
====
The reported period of the budget is independent of the per account budget goal period.

Example: Your salary is paid in bi-weekly intervals, but you want to see your budget reported by month.
You can change the period for the income account to weekly or daily and enter your salary.

When reported by month, jGnash automatically handles the difference in the periods and distributes your bi-weekly
salary income across monthly boundaries.
====

=== Graphical Overview
The main budget panel is shown below.

image:budget-overview.png[width="620"]

The width of the account column is adjustable by placing the cursor between the Account header and the period header
columns and then clicking and dragging the mouse cursor right or left.

At the top of the panel, a toolbar exists that allows you to change how much information is displayed, modify the
budgets, and export the active budget to a spreadsheet.

The budget drop down list lets you quickly select between different budgets you have created.
The btn:[Budget Manager] button displays a dialog that let you create, duplicate, and delete budgets.

The year spinner allows you to bump the selected budget up against the selected year's transaction data.
The selected year also effects the calendar periods when editing period amounts.

==== Properties
The btn:[Properties] button will display the dialog shown below with various options for the active budget.

The period used for the budget display can be changed in this dialog as well as the budget description.
You may also select the account groups that are visible for the selected budget.

The _Start Month_ property sets the month you begin a new budget.  For most, it's the beginning of the year, but
others may prefer a month such as April which is tax season for some.  If you are new to jGnash and you've started
mid-year, then the month you being is a good start.  The _Start Month_ may be changed at any time without negatively
impacting your budget goals.

<<<
Regardless of the _Start Month_ selected, jGnash will use a rolling 12 month period based upon the _Start Month_ you
have selected.

image:budget-properties.png[]

The rounding method and number of decimals used to report budget results may be changed.
The default Rounding Mode is _Floor_ which will round up expenses and round down income values which is a conservative
view of current income and expenses.

.Rounding Modes
[cols="2,10", options="header"]
|=============================
|Mode       |Description
|Ceiling    |Rounds towards positive infinity (_Optimistic View_)
|Down       |Rounds towards zero
|Half Down  |Rounds towards nearest neighbor or down if equal distance
|Half Even  |Rounds towards nearest neighbor or towards even if equal distance
|Half Up    |Rounds towards nearest neighbor or up if equal distance (_Banking_)
|Floor      |Rounds towards negative infinity (_Conservative View_)
|Up         |Rounds away from zero
|=============================

<<<
Reported values are rounded based on the selected value for _Scale_.  Negative values for Scale will round to the
left of the decimal point while positive values round to the right of the decimal point.

The upper limit of the _Scale_ option is limited by the largest _Scale_ value of the Currencies you have configured.

==== Budget Management

Double clicking on an account name to the left of the panel will display a dialog that allows you to change the account
specific budget period and period amounts.

image:budget-goal-dialog.png[]

The Smart Fill panel may used to enter repeating patterns or fill in the amounts automatically based on the last
12 months.
Alternatively, you may directly edit the amount of each period by clicking and typing in a table cell.

The per account budget amounts as well as the *Change
        * and *Remaining
        * values are hierarchical in that the values of the child account are summed and are added to the parent account.
If a parent account is not configured has a placeholder, it may also be assigned period goals that are inclusive of any
children.

At the bottom of each reported budget period, a summary by account group is displayed.
To the right, a summary by account is displayed.
The summary's made be disabled if desired by unselecting the appropriate checkboxes.

The btn:[Export Spreadsheet]
 button will export a file to your choice of an [path]_xls_
 or [path]_xlsx_
 file.
The exported spreadsheet does contain formulas which makes it easier to manipulate the file externally.

=== Budgeting Tips
When planing a budget, you need to consider how you spend and receive your money versus how you want to report your budget.

jGnash has to make assumptions when entering per account period amounts.
Internally, jGnash is keeping a list of 366 days (365 + 1 leap day) per account with the list starting at the first
calendar day of the year.

When a period goal for an account is entered, the amount is averaged across each day of the period.
Entry of amounts is also sensitive to the current year.
If you select Monthly for the account period, the monthly boundary for days is established by the current year calendar
months and the amount is then averaged across the number of days per each month.

Averaging of periods has an impact on how exact the tracking of your budget is.
If you choose to enter a monthly average for income, but are paid on certain days on the month, your budget will show
slight variations through the year.

If you want the budgeted vs. Remaining amounts to be exact for a particular account, then you will want to set the
account period to be Daily and take the effort to enter your daily amount goals.

Minor discrepancies can occur during leap years due to the extra day.  Budgets are typically dynamic due to continuous
changes in income and expenses which means you will naturally address these small discrepancies as you maintain your budget

You will not be able to export a spreadsheet when the report period is daily due to memory requirements and limitations
of some spreadsheet applications.

[[_reconciliation]]
== Reconciliation
Reconciliation is a simple and visual process of matching up the transactions listed in an account's register against a
paper or electronic statement provided by a financial institution. If differences do exist, then any missing or erroneous
transactions must be addressed until the differences are resolved. Statements should come from you bank, investment
broker, credit card issuer, etc. on a periodic basis.

Periodically reconciling an account helps ensure transaction entry errors do not creep in  over time. _Reconciliation
is also a great tool for monitoring your accounts for fraudulent transactions._

Accounts may be reconciled using a manual process or using the Reconciliation Wizard.
For any given reconciliation period, using a combination of both methods will be difficult.

Regardless of the Reconciliation process used, it is good practice to reconcile all accounts periodically.

=== Basics
Every transaction entry will have two independent reconciliation states that applies to both of the related crediting
and debiting accounts.
Split transactions may have even more reconciliation states depending on how many accounts it touches.
Reconciliation states are explained a bit later in this chapter.

The default assumed reconciliation states can be configured depending on your preferred method of reconciliation.
Taking time to understand these options is important for a successful reconciliation process.

[sidebar]
By default, jGnash comes configured to favor use of the Reconciliation Wizard.

[TIP]
====
If this is your first time reconciling an account and you have prior transaction history with a mix of Reconciled and
Cleared transactions, you may need to manually reconcile prior transaction history.
====

==== Reconcile Settings
jGnash makes it easier to manage reconciliation by providing some options described below.
These can be access in the _Register_ options tabs using the menu:Tools[Options] menu.

image:reconcile-options.png[]

Unless you have very specific needs, it is recommend that you choose to have the option *All transaction accounts have
same reconciled state* or *Automatically reconcile Income and Expense Accounts* selected as the default.

Selecting *Automatically reconcile Income and Expense Accounts* requires a bit more work on your part in that you are
required to reconcile all institution statements, but it will not create any issues when transferring between accounts.
_This is the recommended option if you are using the Reconciliation Wizard._

Selecting *All transaction accounts have same reconciled state* will reduce the effort of reconciling transactions,
but can create problems reconciling transfers between bank accounts later. If you manually reconcile your accounts and
do not use the Reconciliation Wizard, this option saves a significant amount of work at the risk of making an assuming
a transaction occurred correctly between two institutions.
_Use of this option in conjunction with use of the Reconciliation Wizard can create problems with bank transfers when
you reconcile both accounts._

Choosing to disable automatic reconciliation will require you to reconcile Income and Expense accounts for which you
may not have been provided a reconciliation statement.

==== Reconcile States
jGnash transactions have three reconciliation states that are presented in order below:

Not Reconciled::
The transaction has not been cleared or reconciled.

Cleared::
The transaction has been marked by the user to have been cleared during a manual or unfinished reconciliation process.
A transaction may be marked as cleared to draw attention to it without impairing use of the reconciliation wizard.

Reconciled::
The transaction has been reconciled or manually reconciled.

[sidebar]
Manually marking transactions is not recommended if you are going to use the Reconcile Wizard.

=== Manual Reconciliation
Manual reconciliation is the process of individually comparing the account register against the institution provided
statement and marking the matching transactions as  reconciled.

The downside to manual reconciliation is not all checks and balances are performed against the reported opening and
closing balance for a given period. This increases the likely-hood of missing a recorded transaction or incorrectly
entered amount.

To manually mark a transaction as reconciled, use the context menu in the register to display options to change the
reconciled state.

image:manual-reconcile-context.png[]

[sidebar]
Use of the context menu is currently the only means of marking a transaction as reconciled other than using the
reconciliation tool. It may also be used to clear transaction erroneously marked as reconciled.

Transactions may also be marked as *Cleared* through the transaction form.
Some users may prefer to clear certain transactions manually during a given period to draw attention to them.
 *Cleared* transactions will still be visible within the Reconciliation Wizard if used later while manually
 *Reconciled* transactions will not.

image:transaction-form.png[width="620"]

=== Reconciliation Wizard
Use of the Reconciliation Wizard helps to simplify the reconciliation process by comparing opening and closing balances
reported by the institution against the sum of the transactions as you mark them as reconciled. You receive
instantaneous visual feedback as you mark transactions, and at the end of the process you should have a net difference
of zero.

[sidebar]
The Reconcile Wizard has a nice feature that is not immediately obvious. While the wizard is displayed, you can still
go back to the account register and enter missing transactions, correct erroneous amounts, or modify and delete
transactions if entered into the wrong account. The Wizard's credit and debit lists are fully dynamic.
You are not required to exit the Wizard without completing the process if you discover missing transactions or errors.

The image of the account register shown next is representative of a small but typical reconciliation period.
The amounts and balances shown correspond with the other images as the  Reconcile Wizard is explained in this chapter.
Refer back to this image as necessary for clarification.

Take note of the _Reconciled Balance: $2,614.43_ and that it is the last transaction marked as reconciled.
Also, take note of the transaction dated _03/25/14_ and the corresponding balance of _$1,369.70._  You will see these
same values later in the Reconcile Settings dialog.

image:reconcile-register.png[width="620"]

The Reconcile Wizard is started by using the context menu in the Account List, or by clicking the btn:[Reconcile] button
in the transaction register.

A small dialog will be shown requesting some information.

Statement Date::
This is the closing date for the reconciliation period.
This should be reported on your account statement.
The date will typically be the end of the month, but may be different due to institution or locale rules.
Transactions entered after this date will not appear within the Reconciliation Wizard

Opening Balance::
The opening balance should also be provided by your institution and should be equal to the closing balance of the last
reconciliation period.
In your account register, this will also be the account balance of the last reconciled transaction.

Ending Balance::
This amount should also be provided by you institution.

_These values should be provided to you by your banking institution in paper or electronic format and it's important
these values are entered correctly, otherwise balances will not zero out._

Pay special attention to the account type, the selected option for _Reverse Displayed Account Balances_ and if you are
entering a positive or negative opening and ending balance.

image:reconcile-settings.png[]

After clicking the btn:[OK] button, the settings dialog will be replaced by a
dialog showing all of the transactions prior and inclusive of the statement date
that have not been marked as Reconciled. _Transactions marked as cleared will be
shown._

The next step is to go through the institution provided statement and mark every
matching transaction as reconcilable by clicking on the transactions. As you
click each transaction, totals will update and you should see the
[label]#Difference# value approach zero. The symbol in the _Clr_ column will
also change when marked as **Reconciled**. When the [label]#Difference# is zero,
the btn:[Finish] button will become active. Transactions marked as cleared will
also need to be selected if they are to be reconciled.

It is not unusual to find transactions that go unmarked for reconciliation near
the end of the statement period. These are transactions you have entered that
were not processed through the system fast enough to show up on your statement
and impact your account balance. Simply ignore these transactions and they will
be captured at the start of the next  statement and reconciliation cycle.

image:reconcile-dialog.png[width="620"]

Clicking on the btn:[Finish] button will close the dialog and will mark the
selected transactions as Reconciled. Depending on the number of transactions and
type of file format being used, it could take awhile for the changes to be
saved. A wait message will be displayed during the change process.

What do you do if you have marked all transactions as reconciled and the difference is not zero?

* Not all paper and electronic statements clearly identify fees, earned
  interest, etc. Make sure you have captured these transactions.
* Were any transactions amounts entered incorrectly?
* Transactions manually marked as Reconciled during the statement period will
  not show in the transaction columns and are guaranteed to throw off balances.
  Mark the transactions as *Cleared* instead.
* Do you have your Reconcile Settings configured appropriately for the process
  you are using? If in doubt, use **Automatically reconcile Income and Expense Accounts**.
* Incorrectly entered  opening and ending balances will cause errors in calculated balances.

If you need to to exit the Reconciliation Wizard before finishing, the
btn:[Finish Later] button may be used. This will close the dialog and mark
selected transactions as **Cleared**. This makes it easy to restart the process
with transaction you have already marked as reconcilable identified. You will
still need to reselect those transactions when you restart the process.

[[_imports]]
== Importing Transactions

Importing of OFX, QFX, MT940, and QIF transaction files is supported within
jGnash. The files are downloaded manually from your financial institution and
then imported.  jGnash does not currently support an automatic download process.

QIF is an old format that was not well defined and is generated inconsistently
between financial institutions.  There are two significantly different formats
with one consisting of transnational data only and the other format attempts to
serve as an export / import format with account information for financial
applications.  Use of date formats within the QIF format will vary and can lead
to incorrect or failed import of transactions.  If at all possible, avoid use of
QIF files and use an OFX or QFX file.

OFX and QFX files are a well defined standard and jGnash will easily process
these. This is the preferred file format for importing transactions into jGnash.
OFX and QFX files are XML based and human readable in that you can open the file
with a text editor and easily understand the information contained within.

MT940 is another well defined standard commonly used between financial
institutions.   The format consists of fields separated by colons and commas
with well defined numeric codes.  MT940 is very compact and efficient to
transfer electronically.

[NOTE]
The Import Process below describes the basic import of transactions.  jGnash can
also process OFX and QFX files with _Investment_ transactions.  Additional
columns will be present and enabled when applicable for these advanced types of
transactions.

=== Import Process

Importing transactions is an easy process that is guided with a simple wizard.
It begins with menu:File[Import > OFX / QFX], menu:File[Import > QIF], or
menu:File[Import > MT940] and selecting a file that has been downloaded.

The first step of the import process requires selecting the correct account the
import file is for. This is the base account all imported transactions will be
associated with.

[TIP]
When importing OFX or QFX files, jGnash will preselect the correct account after
it has learned from the first import.

The second step of the process is reviewing the transactions as shown below.

image:importWizard2.png[width="650"]

The first column consists of import status symbols:

* A plus symbol indicates the transaction has been detected as new.  Double
  clicking on it will change it to a negative symbol to indicate you do not want
  it to be imported.

* An equals symbol indicates the transaction has been detected as a duplicate of
  a manually entered transaction or already imported transaction.  Double
  clicking on it will change it to a plus symbol to indicate you want to force
  the import of the transaction.

The second, third, and forth columns are not editable.  The Payee and Memo
columns may be preprocessed using JavaScript Filters as described later.

The Account column can be double clicked and changed to suit.  The selected
account will normally be an income or expense account unless it was a transfer
to another bank account or financial institution.  This column is also the
equivalent to _Categories_ for some other financial applications.

The Amount column can be double clicked and edited.  This is normally not
needed and not recommended, but allowed for some specialized uses when working
with multiple currencies.

The btn:[Delete] button may also be used to remove a transaction being imported.

[sidebar]
When importing transactions, jGnash uses what is called a Naive Bayes Classifier
to help preselect the best account for the transaction.  Consistent use of
memo and payee fields will help accuracy of account selection.  Accuracy also
improves with increased quantity of transactions over time.

The last step of the Import Wizard allows you to review basic information about
the import before committing to the changes.  After clicking on btn:[Finish],
the dialog will close and jGnash will begin the import process.

=== OFX imports
Taking the time to correctly configure your jGnash Account properties can help
reduce the effort needed to automatically identify Accounts when importing OFX
transactions.

OFX files may contain enough information to identify transfers between accounts.
Most financial institutions will correctly identify transactions between checking
and savings accounts with the bank, but others may include enough information
when transferring between finance institutions.

Below is a fragment of the OFX file content defining the transfer.  jGnash will
attempt to match the *<ACCTID>* identifier to an existing *Account Number*
that is specified within the properties of your jGnash account.

[listing]
----
 <BANKACCTTO>
    <BANKID>100000009
    <BRANCHID>TEST
    <ACCTID>555555-C01 //<1>
    <ACCTTYPE>CHECKING
</BANKACCTTO>
----
<1> Account identifier

The *Account Number* is easily changed by modifying the Account properties as described
in  the <<_newaccount>> section of the manual.

=== JavaScript Filters
When importing transactions from OFX/QFX, mt940, and QIF bank statements
downloads, transactions may be preprocessed using custom JavaScript files.  As
of jGnash release 2.32.0, the scripts may be used to alter the memo or payee of
the transactions being imported.

You have three options for making a JavaScript file available for use:

. Some scripts are included by default.  These show up as /jgnash/imports/_xxx.js_
  in the *Script* column of the table.
. Place the JavaScript file into a [path]_importScripts_ sub directory where
  your jGnash data file is installed.
. Place the _.js_ file into your home directly where jGnash will find it.
.. $HOME/.jgnash/importScripts for UNIX and BSD based operating systems.
.. USER_HOME\AppData\Local\jgnash\importScripts for Windows operating systems.

These import scripts must be specifically enabled for use and the order in which they will be executed can be changed
using the menu:Tools[Configure Transaction Imports Filters…] menu as shown below.

image:importFilters.png[width="600"]

<<<
Below is an example JavaScript file.  The first four functions are required for correct operation.

The first function accepts an *ImportTransaction* for advanced manipulation of the imported data.

The second and third functions accept a *string* and are expected to return a *string*.

The *getDescription* function should return a meaningful description of the script.

[[app-listing]]
[source,javascript]
----
/* Normalizes the case of the payee and memo fields */

// place holder for the passed ImportTransaction
var importTransaction;

// This will be called first and passed the ImportTransaction
function acceptTransaction(transaction) {

    // does nothing with it in this script
    importTransaction = transaction;
}

// This is a required function
function processMemo(memo) {
    return capitalizeFirstLetter(memo.toLocaleLowerCase());
}

// This is a required function
function processPayee(payee) {
    return titleCase(payee.toLocaleLowerCase());
}

// This is a required function
var getDescription = function (locale) {
    var Locale = Packages.java.util.Locale;

    switch (locale) {
        case Locale.ENGLISH:
            return "Tidy Memo and Payee fields";
        default:
            return "Tidy Memo and Payee fields";
    }
};

// Capitalizes the first letter or a String
function capitalizeFirstLetter(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
}

// Converts a string to Title Case
function titleCase(str) {
    return str.replace(/(^|\s)[a-z]/g,function(f){return f.toUpperCase();});
}
----

The full jGnash API may be accessed within these scripts for advanced processing capabilities.
See the <<_javascript,JavaScript>> section of the manual for more details.

[NOTE]
====
JavaScript files are expected to be encoded as UTF-8 Files.  An incorrect file encoding may cause script failures.
====

[[_reports]]
== Reports
A variety of reports exist that present your financial history and status in
different ways. There are currently three classes of reports available. Text
reports can be exported and easily imported into a spreadsheet for advanced
manipulation. Chart based reports may be altered and exported to a graphic file,
or printed using the context sensitive pop-up menu. Tabular type reports may be
printed or saved to various file formats including [path]_CSV_ or [path]_PDF_
files.

=== Tabular Reports
Tabular reports are displayed in a specialized viewer that allows you to change
the page and print or export the report. The font size of the displayed report
can be changed from the toolbar of the report window.

The fonts used to display the report may be changed in the menu:Tools[Options]
 dialog shown below.
The [label]#Proportional#
 font is typically used for report headers and footers.
The [label]#Monospace#
 font, also called a fixed-width font, is used to display the reported values.

image:font-options.png[]

If a proportional spaced font is chosen for the [label]#Monospace# font, numeric report values may not line up
correctly in the report.

.Font Information
[TIP]
====
Information on font types as well as a wide selection of freely available fonts can be found on the Internet.
Once a new font is properly installed in your operating system, it will be available for use in jGnash the next time it
is started.
====

=== Tips
Depending on your operating system, you may need to change the font type and font size to achieve the best looking report.
The font size can be changed on the report toolbar and is remember for each report type.

==== Nothing displays in the report and I'm not getting any errors
Try increasing your font size, and if that does not work, choose a different font.
Depending on your operation system, fonts may not render correctly at reduced sizes.

==== I get an error that tells me to reduce my font size
The selected font size is too large to display the report correctly.
You will need to choose a smaller font size.
Many times, the column heading text may dictate the displayed width of a column.
Try choosing a proportional font with condensed spacing.
You may also want to check the default paper size and adjust if needed.

==== My PDF exports are missing information or don't look correct on different computers
Not all fonts are able to be embedded within a [path]_PDF_ file.
You may need to experiment with different fonts to achieve good portability.
In most cases, the defaults jGnash chooses will give you good results.

==== The IRR is not being displayed in my Portfolio report ====
Your investment account may not be setup properly. Ensure that stocks have been added
or purchased prior to sells, buys, dividends, etc.

[[_administration]]
== Administration
Several administration options and tools are provided to help with management of your data.

[[_saveas]]
=== File | Save As
An open file may be saved as a new file of the same type, or a new file with a new file type.
To save the file as a different type, you must change the file extension to a supported type.
Correct file extensions are shown below.

[[_fileFormats]]
.File Formats
[cols="40%,60%"]
|===

|XML File
|.xml

|Binary File
|.bxds

|H2 Relational Database (B-Tree)
|.h2.db

|H2 Relational Database (MVStore)
|.mv.db _(newest H2 format and is more compact)_

|HyperSql (hslqb) Relational Database
|.script _(.lobs, .log, .properties are used as support files)_

|===

=== File | Export | Export Accounts and File | Import | Import Accounts
Use of these commands allows you to export your account structure and import it back into and new file.
This is handy if you want to start a new file without manually recreating your accounts.  This does not preserve existing transactions.

=== Change Database Password
By default, when a new relational database is created, a password is not specified. This allows you to password protect
your file.  This does not encrypt your data, so a person with the right tools can easily access your data.
It is useful for casual protection only. If encryption is important, use OS level encryption capability available on
any modern operating system. This is disabled while a file is open.

=== Shutdown Server
Issues a shutdown request to a remote server.
This is disabled while a file is open.

[[_pluginsjavascript]]
== Plugins and JavaScript
jGnash support the addition of JavaScript and Plugins to add additional functionality to the application.

=== Plugins
Plugins are tightly integrated into jGnash, and once loaded, behave as if they are a standard part of the application.
Plugins are coded in Java using a jGnash specific API as the entry point so they may be loaded into jGnash.

Standard Plugins are packaged into [path]_JAR_ files and are located within the [path]_plugins_ directory located in the
directory jGnash is installed.

You have two options for manually installing a Plugin:

. Place the JAR file into the [path]_plugins_ sub directory where jGnash is installed and restart jGnash.
. Place the JAR file into your home directly where jGnash will find it.
.. $HOME/.jgnash/plugins for UNIX and BSD based operating systems.
.. USER_HOME\AppData\Local\jgnash\plugins for Windows operating systems.

The jGnash JavaDoc may be referenced if you are interested in creating a jGnash Plugin.
The MT940 import is written as a standard Plugin and may be referenced as an example of how to write one.

[[_javascript]]
=== JavaScript
In addition to use of Plugins, jGnash allows you to create and run JavaScript programs.
The internals of the jGnash engine and some user interface functions can be accessed to create custom reports, create
and modify transactions, etc.

Running a JavaScript program is as simple as using menu:Tools[Run JavaScript] command from the menu bar.

Below is an example JavaScript program that displays the accounts in the currently loaded file and demonstrates how to
display a simple dialog.  To try the program, create a text file using your favorite editor with a name of your choice
that ends with a _.js_ extension.  After creating the file, simply using the menu:Tools[Run JavaScript] command to select
the program and run it.

[[app-listTwo]]
[source,javascript]
----
load("nashorn:mozilla_compat.js");  // Load compatibility script

importPackage(javax.swing);
importPackage(Packages.jgnash.ui);
importPackage(Packages.jgnash.engine);

// helper function to print messages to the console
function debug(message) {
    java.lang.System.out.println(message);
}

// show the console dialog to see the debug information
var Console = Java.type("jgnash.uifx.views.main.ConsoleDialogController");
Console.show();

// this is how to get the default Engine instance
var engine = EngineFactory.getEngine(EngineFactory.DEFAULT);

// get a list of accounts
var accountList = engine.getAccountList();

// loop and print the account names to the console
for (var i = 0; i; accountList.size(); i++)
{
    var account = accountList.get(i);
    debug(account.getName());
}

// just to show how to use Swing
var optionPane = JOptionPane.showMessageDialog(null, 'Hello, world!');
----

[NOTE]
====
JavaScript files are expected to be encoded as UTF-8 Files.  An incorrect file encoding may cause script failures.
====

JavaScript programs have the advantage of not requiring the use of an IDE or Java compiler to create and test a program.
The disadvantage is troubleshooting syntax and logic errors can be more difficult than writing a jGnash Plugin.

[[_commandline]]
== Command Line Options
jGnash has several command line options for advanced users.

Parameters such as file names that include a space in the path must be
escaped using double quotes.

==============================================================================
*Example*

The path to the file "/home/craig/jgnash files/jgnash.h2.db" must be escaped as shown.

jGnash --server "/home/craig/jgnash files/jgnash.h2.db" --password fh56dy
==============================================================================

Some options have short forms.  A full list of options can be obtained using the *--help* option.

[float]
=== Options
--help::
Detailed display of all command line options.

--file [option]``filename``::
Specifies a file to load at startup.

--portable::
If portable is specified on the command line, jGnash preferences will be stored to a file name**pref.xml**instead of
using the system registry. Use of this option is intended for users who want to run jGnash from a thumb drive on
multiple computers and maintain their preferences without using the system registry. The *pref.xml* file will usually
be stored at the location jGnash was started from.

--portableFile [option]``filename``::
If you don't like the location the *pref.xml* file is stored, or wish to use a different name, use this option to
change the location and name to suit.

--uninstall::
Removes all registry and configuration settings jGnash has created.
This will not have any effect if you have been using the *-portable* option.

[float]
=== Client/Server Options

--server [option]``filename``::
Starts the jGnash server using the specified file.
The file must exist and not be in use by another program.
A user interface will not be displayed.
The file must be in the Object Database (jdb) format.

--host [option]``servername``::
Specifies the name of the remote server.
This starts jGnash and automatically connects to the specified server.
If running on the same computer as the server, localhost may be used as the name of the server.

--shutdown::
Issues a shutdown request to a server.
If -host is not specified, then localhost is assumed for the server name

--encrypt::
Enables encrypted client / server communication if supported by the relational database (H2 Only). Remote file transfers
and client communications, etc will be encrypted. This will not encrypt your database file.
A password must be used, otherwise encryption will be disabled.
Depending on your locale and export laws, encryption may not be available and will fail if not supported in your
installed JVM.

--password [option]``password``::
The password that the client must correctly specify to connect to the jGnash database.
This is not required if the database is not protected.

--port [option]``port``::
An empty port for network communications.
The specified port and port + 1 may not be used by any other application at the same time.
The default port is 5300.

--bypassBootloader::
Bypasses the bootloader and requires manual installation of any OS specific files.

.Open Dialog
[TIP]
====
It is possible to start the jGnash client and specify the server, and password settings from the menu:File[Open]
 dialog.
====

[float]
=== Client/Server Examples

Start the jGnash server using the default port with a password protected database
----
jGnash --server /home/craig/jgnash.mv.db --password fh56dy
----

Start the jGnash client and connect to the local server running a password protected database
----
jGnash --host localhost --password fh56dy
----

Issue a shutdown request to a remote server that is password protected
----
jGnash --shutdown --host localhost --password fh56dy
----

Issue a shutdown request to a local server that is not password protected
----
jGnash --shutdown
----

[[_faq]]
== Frequently Asked Questions

[qanda]
Where do I set my opening account balance?::
Create an Equity Account called "Opening Balances" and transfer money from the Equity account to they
new account which will establish an opening balance.  The "Opening Balances" account may be hidden
later if you do not want it visible.

What happened to transaction categories?::
Most commercial personal finance applications use categories to help track spending and income.
jGnash uses Income and Expense accounts instead of categories for tracking where your money
comes from and where it goes.

Can I use multiple currencies?::
Yes! The menu:Tools[Currencies > Add/Remove] menu will let you add additional currencies.
+
After adding new currencies, simple create new accounts that use the new currency. When creating a
transaction between accounts with different currencies, a field for the exchange rate will be enabled.

How do I add Securities / Stocks to my Investment and Mutual Fund Account?::
First, you need to have created your stocks/securities. menu:Tools[Commodities > Create / Modify].
+
When creating the securities, the scale field must be filled in and the prefix field should be filled in. The scale
will general be the same scale as the currency the securities value is reported in. In most cases, a scale of 2 will
work fine. For the prefix, the currency prefix of the reported value should be used.
+
After creating your securities, you can go back and modify the existing account or select the securities when
creating a new account. Use the btn:[Securities] button in the dialog to make changes.

[appendix]
[[_keyboard]]
== Keyboard Shortcuts
This Appendix contains application keyboard shortcuts that are available to you throughout jGnash

Depending on your operating system and how you have it configured, other shortcuts may be available that perform the same function.

.Shortcut Keys
[cols="1,3", options="header"]
|===
| Keys
| Function

|kbd:[CTRL-F4]
|Closes the active register window if you have one open


|kbd:[CTRL-A]
|Displays the About dialog
|===

.Editing Keys
[cols="1,3", options="header"]
|===
| Keys
| Function

|kbd:[CTRL-C]
|Copy

|kbd:[CTRL-X]
|Cut

|kbd:[CTRL-V]
|Paste
|===
_Editing Keys may be different and are platform specific_

include::_gpl-3.0.adoc[]

include::_fdl.adoc[]
